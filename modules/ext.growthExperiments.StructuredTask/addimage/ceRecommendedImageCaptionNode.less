@paragraphPadding: 7px 8px 27px 8px; // adding bottom padding for help button

.mw-ge-recommendedImageCaption {
	border: 2px solid #36c;
	background: #eaf3ff;
	position: relative;

	.ve-ce-paragraphNode {
		padding: 7px 8px 27px 8px; // adding bottom padding for help button
	}

	&--with-placeholder {
		&:before {
			content: attr( placeholder );
			padding: 7px 8px 0 7px;
			display: block;
		}

		.ve-ce-paragraphNode {
			padding: 0;
		}
	}

	.mw-ge-recommendedImageCaption-help-button {
		position: absolute;
		right: 8px;
		bottom: 7px;
		opacity: 0.65;

		// Override OOUI ButtonWidget's size
		&.oo-ui-buttonElement-frameless.oo-ui-iconElement > .oo-ui-buttonElement-button {
			min-height: 20px;
			min-width: 20px;
			padding: 0;
		}
	}
}

.mw-ge-structuredTaskDesktopArticleTarget {
	@desktopParagraphPadding: 0 8px 27px 0;
	// Additional specificity to override default styles
	.mw-content-ltr .mw-ge-recommendedImageCaption {
		&--with-placeholder {
			&:before {
				content: attr( placeholder );
				padding: @desktopParagraphPadding;
				display: block;
				width: auto;
				height: auto;
				margin-left: 0;
			}
		}
	}

	.mw-ge-recommendedImageCaption {
		.ve-ce-paragraphNode {
			padding: @desktopParagraphPadding;
		}
	}
}
